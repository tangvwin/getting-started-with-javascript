#Lesson 7 HomeWork

## [页面链接]( http://daijun.info/lesson7-homework/)
## [GITHUB项目网址](https://github.com/cloudyview/lesson7-homework)

通过调试徐老师的程序，完成了作业，CSS方面也自己尝试了BOOTSTRAP的强大力量，VUE初步体验，感觉很爽。

这次作业，我总感觉要是还要手动去吧JSON文件里面的数据COPY一次到HTML里面，太罗嗦，就尝试用三段HTML代码来组合成一个HTML文件。美其名曰：动态。

具体做法：
1. 首先将index.html拆成两部分，分别是开头和结尾。中间的数据部分就删除。

2. 然后在老师的例程基础上做修改和调试，先读入开头，然后用fs.writeFileSync()函数创建一个index.html.由于这个函数每次执行都会将内容清零，然后再写入，所以相当于每次执行都在创建index.html。  

在写入的时候，用了同步函数，是发现如果用异步，会出现写入顺序错误的问题。暂时还不清楚具体原因。估计是因为JSON读写的那段，用了同步，那么系统会首先执行同步的那些代码，所以，虽然我创建Index.html的函数先执行，结果还是会后出。

3. 然后是JSON文件读取，写入的部分，就直接用fs.appendFile（）函数来添加到index.hmtl的后面。 4、然后再后面再添加一段结尾的部分，至此，完成！  

这个方法的好处是，我每次只需要执行我的JS文件，就能读取最新的“心里话”实现更新。

我考虑是否利用fs.Watch()函数，自动来监控。不过这样就需要做成后台自己运行的程序，或者要用web页面来发起请求，这些技巧目前都还不掌握，以后再考虑。

当前要解决的是乱码的问题，还在调试。功课先交，慢慢优化。

## 学习心得

1. 只需要调用一次的函数，就直接在要用的地方执行。在CALLBACK的位置，实在是好方便的说。
2. 用括号的时候，必须成对打出，否则很容易就多了或者少了。即使是VSCODE帮你，也不要贪图这个方便，只打一边。为这个括号，花费了我超多时间来调试程序。
3. 同步与异步，还需要多多理解。
4. 编码的问题在中文世界里真的很重要，目前还有好多好多乱码在文件里，应该是读取的时候就出问题了，现在在考虑如何解决，学习中。